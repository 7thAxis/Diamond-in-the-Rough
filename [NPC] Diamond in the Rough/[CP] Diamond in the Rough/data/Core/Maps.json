//Note: Put map patches before warps or they won't work!
{
    "Changes": [
    //CGs

        {
            "Action": "Load",
            "Target": "Maps/SenOceanCG",
            "FromFile": "assets/Maps/SenOceanCG.tmx"
        },
    //Temp Maps
        {
            "Action": "Load",
            "Target": "Maps/SenFlashback",
            "FromFile": "assets/Maps/SenFlashback.tmx"
        },

    //LOCATIONS
//----------------
    //Location Data EVE HOUSE
        {
			"Action": "Load",
			"Target": "Maps/{{ModID}}.Maps.EveHouseInterior",
			"FromFile": "assets/Maps/EveHouseInterior.tmx"
		},
        {
			"LogName": "Location Data",
			"Action": "EditData",
			"Target": "Data/Locations",
			"Entries": {
				"{{ModID}}.Maps.EveHouseInterior": {
                    "MusicIsTownTheme": true,
					"DisplayName": "{{i18n:Maps.EveT.EveHouse}}",
					"DefaultArrivalTile": { "X": 6, "Y": 10 },
					"CreateOnLoad": { "MapPath": "Maps/{{ModID}}.Maps.EveHouseInterior" },
					"FormerLocationNames": [ "7thAxis.LotV.EveHouseInterior" ]
				}
			}
		},
        //Map Patches
        {
            "Action": "EditMap",
            "Target": "Maps/EastScarp_Village",
            "FromFile": "assets/Maps/EveHouseExterior.tmx",
            "ToArea": { "X": 75, "Y": 87, "Width": 10, "Height": 10 },
            "PatchMode": "Replace"
        },
        //Warps
        {
            "Action": "EditMap",
            "Target": "Maps/{{ModID}}.Maps.EveHouseInterior",
            "AddWarps": [ "6 11 EastScarp_Village 80 94" ]
        },
        {
            "Action": "EditMap",
            "Target": "Maps/EastScarp_Village",
            "MapTiles": [
                {
                    "Position": { "X": 80, "Y": 93 },
                    "Layer": "Buildings",
                    "SetProperties": { "Action": "Warp 6 9 {{ModID}}.Maps.EveHouseInterior" }
                }
            ]
           },        
//----------------
    //Location Data TRACE HOUSE UPSTAIRS
    {
        "Action": "Load",
        "Target": "Maps/{{ModID}}.Maps.TraceHouseInterior",
        "FromFile": "assets/Maps/TraceHouseInterior.tmx"
    },
    {
        "LogName": "Location Data",
        "Action": "EditData",
        "Target": "Data/Locations",
        "Entries": {
            "{{ModID}}.Maps.TraceHouseInterior": {
                "Music": [
                    {
                      "Id": "TraceHouseBarbieGirl",
                      "Track": "{{ModID}}.Music.BarbieGirl",
                      "Condition": "RANDOM 0.05 @addDailyLuck"
                    }
                  ],
                "MusicDefault": "{{ModID}}.Music.TraceHouse",
                "DisplayName": "{{i18n:Maps.TraceV.TraceHouse}}",
                "DefaultArrivalTile": { "X": 16, "Y": 23 },
                "CreateOnLoad": { "MapPath": "Maps/{{ModID}}.Maps.TraceHouseInterior" }
            }
        }
    },
    //Map Patches
    {
        "Action": "EditMap",
        "Target": "Maps/EastScarp_Village",
        "FromFile": "assets/Maps/TraceHouseExterior.tmx",
        "ToArea": { "X": 0, "Y": 73, "Width": 13, "Height": 16 },
        "PatchMode": "Replace"
    },
    //Warps
    {
        "Action": "EditMap",
        "Target": "Maps/{{ModID}}.Maps.TraceHouseInterior",
        "AddWarps": [ 
            "15 24 EastScarp_Village 6 83",
            "16 24 EastScarp_Village 6 83",
            "11 24 {{ModID}}.Maps.TraceHouseBasement 10 6",
            "12 24 {{ModID}}.Maps.TraceHouseBasement 11 6"
        ]
    },
    {
        "Action": "EditMap",
        "Target": "Maps/EastScarp_Village",
        "MapTiles": [
            {
                "Position": { "X": 6, "Y": 82 },
                "Layer": "Buildings",
                "SetProperties": { "Action": "Warp 16 23 {{ModID}}.Maps.TraceHouseInterior" }
            }
        ]
    },
    //Conditional Map Tiles
        //Pipo tiles pre-adoption
    {
        "Action": "EditMap",
        "Target": "Maps/{{ModID}}.Maps.TraceHouseInterior",
        "Update": "OnLocationChange",
        "MapTiles": [
            {
                "Position": { "X": 2, "Y": 20 },
                "Layer": "Buildings",
                "Remove": true
            },
            {
                "Position": { "X": 1, "Y": 21 },
                "Layer": "Buildings",
                "Remove": true
            },
            {
                "Position": { "X": 11, "Y": 5 },
                "Layer": "Back3",
                "Remove": true
            }
        ],
        "When": { "HasSeenEvent |contains=7thAxis.DitR.CP.Events.EveT.2h.P2": false }
    },
        //Open doors in Trace's House
        {
            "Action": "EditMap",
            "Target": "Maps/{{ModID}}.Maps.TraceHouseInterior",
            "Update": "OnLocationChange",
            "MapTiles": [
                {
                    "Position": { "X": 13, "Y": 12 },
                    "Layer": "Buildings",
                    "Remove": true
                },
                {
                    "Position": { "X": 6, "Y": 12 },
                    "Layer": "Buildings",
                    "Remove": true
                },
                //Trace's Bedroom
                {
                    "Position": { "X": 13, "Y": 12 },
                    "Layer": "Front",
                    "SetTileSheet": "spring_DitRTilesheet",
                    "SetIndex": "370"
                },
                {
                    "Position": { "X": 13, "Y": 11 },
                    "Layer": "Front",
                    "SetTileSheet": "spring_DitRTilesheet",
                    "SetIndex": "354"
                },
                {
                    "Position": { "X": 13, "Y": 10 },
                    "Layer": "Front",
                    "SetTileSheet": "spring_DitRTilesheet",
                    "SetIndex": "338"
                },
                //Trace's Art Room
                {
                    "Position": { "X": 6, "Y": 12 },
                    "Layer": "Front",
                    "SetTileSheet": "spring_DitRTilesheet",
                    "SetIndex": "370"
                },
                {
                    "Position": { "X": 6, "Y": 11 },
                    "Layer": "Front",
                    "SetTileSheet": "spring_DitRTilesheet",
                    "SetIndex": "354"
                },
                {
                    "Position": { "X": 6, "Y": 10 },
                    "Layer": "Front",
                    "SetTileSheet": "spring_DitRTilesheet",
                    "SetIndex": "338"
                }
            ],
            "When": { "Hearts:TraceV": "{{Range: 8, 10}}" }
        },

//----------------
    //Location Data TRACE HOUSE BASEMENT
    {
        "Action": "Load",
        "Target": "Maps/{{ModID}}.Maps.TraceHouseBasement",
        "FromFile": "assets/Maps/TraceHouseBasement.tmx"
    },
    {
        "LogName": "Location Data",
        "Action": "EditData",
        "Target": "Data/Locations",
        "Entries": {
            "{{ModID}}.Maps.TraceHouseBasement": {
                "MusicDefault": "{{ModID}}.Music.JeremyTheme",
                "DisplayName": "{{i18n:Maps.TraceV.TraceHouseBasement}}",
                "DefaultArrivalTile": { "X": 10, "Y": 6 },
                "CreateOnLoad": { "MapPath": "Maps/{{ModID}}.Maps.TraceHouseBasement" }
            }
        }
    },
    {
        "Action": "EditMap",
        "Target": "Maps/{{ModID}}.Maps.TraceHouseBasement",
        "AddWarps": [ 
            "10 4 {{ModID}}.Maps.TraceHouseInterior 11 22",
            "11 4 {{ModID}}.Maps.TraceHouseInterior 12 22" 
        ]
    },
    //Other 
    {
        "Action": "EditMap",
        "Target": "Maps/{{ModID}}.Maps.TraceHouseBasement",
        "MapTiles": [
            {
                "Position": { "X": 4, "Y": 6 },
                "Layer": "Buildings",
                "SetProperties": { "Action": "PlayEvent SnailTest true false Dialogue {{i18n:Quests.DitR.LavaSnailRoundUp.QuestActive}}" }
            },
            {
                "Position": { "X": 5, "Y": 6 },
                "Layer": "Buildings",
                "SetProperties": { "Action": "PlayEvent SnailTest true false Dialogue {{i18n:Quests.DitR.LavaSnailRoundUp.QuestActive}}" }
            }
        ]
    },
//----------------
        //SEN MAP
     {
        "Action": "EditMap",
        "Target": "Maps/EastScarp_DeepDark",
        "FromFile": "assets/Maps/UndergroundSenPatch.tmx",
        "ToArea": { "X": 15, "Y": 12, "Width": 16, "Height": 16 },
        "PatchMode": "Replace"
    },
    {
        "Action": "EditMap",
        "Target": "Maps/EastScarp_DeepDark",
        "FromFile": "assets/Maps/UndergroundSenPatchGarden.tmx",
        "ToArea": { "X": 15, "Y": 12, "Width": 16, "Height": 34 },
        "PatchMode": "Replace",
        "When": {
            "HasFlag: |contains=DitR_M_SenGardenTrigger": true,
            "HasConversationTopic: |contains=DitR_CT_GardenWaitTime": false
        }
    },
    //Sen Spouse Room
    {
        "Action": "Load",
        "Target": "Maps/7thAxis_SenS_SpouseRoom",
        "FromFile": "assets/maps/SenRoom.tmx"
    },
// MEEP images and text
     {
        "Action": "Load",
        "Target": "Mods/{{ModID}}.Images/DrawerPhoto.1",
        "FromFile": "assets/Images/DrawerPhoto.1.png"
    },
    {
        "Action": "Load",
        "Target": "Mods/{{ModID}}.Images/DrawerPhoto.2",
        "FromFile": "assets/Images/DrawerPhoto.2.png"
    },
    {
        "Action": "EditMap",
        "Target": "Maps/{{ModID}}.Maps.EveHouseInterior",
        "MapTiles": [
            {
                "Position": { "X": 10, "Y": 4 },
                "Layer": "Back",
                "SetProperties": {
                    "MEEP_CloseupInteraction_Image": "Mods/{{ModID}}.Images/DrawerPhoto.1",
                    "MEEP_CloseupInteraction_Text": "{{i18n:Maps.EveT.EveTHDrawer}}"
                }
            }
        ]
    },
//Map Strings
         {
            "LogName": "DitR Map Strings",
            "Action": "EditData",
            "Target": "strings/StringsFromMaps",
            "Entries": {
                
            //EVE STRINGS
                "EveTHSink": "{{i18n:Maps.EveT.EveTHSink}}",
                "EveTHFridge": "{{i18n:Maps.EveT.EveTHFridge}}",
                "EveTHStove": "{{i18n:Maps.EveT.EveTHStove}}",
                "EveTMegaBomb": "{{i18n:Maps.EveT.EveTMegaBomb}}",
                "EveTHDogBowl": "{{i18n:Maps.EveT.EveTHDogBowl}}",
                "EveTHPainting": "{{i18n:Maps.EveT.EveTHPainting}}",
                "EveTHDogBed": "{{i18n:Maps.EveT.EveTHDogBed}}",
                "EveTHPlant": "{{i18n:Maps.EveT.EveTHPlant}}",
                "EveTHCherryBomb": "{{i18n:Maps.EveT.EveTHCherryBomb}}",
                "EveTHBed": "{{i18n:Maps.EveT.EveTHBed}}",
                "EveTHBomb": "{{i18n:Maps.EveT.EveTHBomb}}",
                "EveTHFlower": "{{i18n:Maps.EveT.EveTHFlower}}",
                "EveTHTable": "{{i18n:Maps.EveT.EveTHTable}}",
                "EveTHCactus": "{{i18n:Maps.EveT.EveTHCactus}}",
                "EveTHGems": "{{i18n:Maps.EveT.EveTHGems}}",
                "EveTHPipoFood": "{{i18n:Maps.EveT.EveTHPipoFood}}",

            //SEN STRINGS
                "SenDDGlobe": "{{i18n:Maps.SenS.SenDDGlobe}}",
                "SenDDBasket": "{{i18n:Maps.SenS.SenDDBasket}}",
                "SenDDMap": "{{i18n:Maps.SenS.SenDDMap}}",
                "SenDDSpiderWeb": "{{i18n:Maps.SenS.SenDDSpiderWeb}}",
                "SenDDBookStack1": "{{i18n:Maps.SenS.SenDDBookStack1}}",
                "SenDDBookStack2": "{{i18n:Maps.SenS.SenDDBookStack2}}",
                "SenDDCandles": "{{i18n:Maps.SenS.SenDDCandles}}",
                "SenDDClutter": "{{i18n:Maps.SenS.SenDDClutter}}",
                "SenDDWorkBench": "{{i18n:Maps.SenS.SenDDWorkBench}}",
                "SenDDLoom": "{{i18n:Maps.SenS.SenDDLoom}}",
                "SenDDCloth": "{{i18n:Maps.SenS.SenDDCloth}}",
                "SenDDRedBook": "{{i18n:Maps.SenS.SenDDRedBook}}",
                "SenDDBlueBook": "{{i18n:Maps.SenS.SenDDBlueBook}}",
                "SenDDMushrooms": "{{i18n:Maps.SenS.SenDDMushrooms}}",
                "SenDDBed": "{{i18n:Maps.SenS.SenDDBed}}",
                "SenDDVines": "{{i18n:Maps.SenS.SenDDVines}}",
                "SenDDBear": "{{i18n:Maps.SenS.SenDDBear}}",
                "SenDDTrash": "{{i18n:Maps.SenS.SenDDTrash}}",
                "SenDDBarrel": "{{i18n:Maps.SenS.SenDDBarrel}}",
                "SenDDCrocus": "{{i18n:Maps.SenS.SenDDCrocus}}",
                "SenDDFlowers": "{{i18n:Maps.SenS.SenDDFlowers}}",
                
                //deep dark garden
                "SenDDGardenShrooms": "{{i18n:Maps.SenS.SenDDGardenShrooms}}",
                "SenDDGardenWater": "{{i18n:Maps.SenS.SenDDGardenWater}}",
                "SenDDGardenPumpkin": "{{i18n:Maps.SenS.SenDDGardenPumpkin}}",
                "SenDDGardenBigPumpkin": "{{i18n:Maps.SenS.SenDDGardenBigPumpkin}}",
                "SenDDGardenBerryBush": "{{i18n:Maps.SenS.SenDDGardenBerryBush}}",
                "SenDDGardenBerryBasket": "{{i18n:Maps.SenS.SenDDGardenBerryBasket}}",
                "SenDDGardenGrassRocks": "{{i18n:Maps.SenS.SenDDGardenGrassRocks}}",
                "SenDDGardenSecretJunimo": "{{i18n:Maps.SenS.SenDDGardenSecretJunimo}}",

                //spouse room
                "SenRoomCrocus": "{{i18n:Maps.SenS.SenRoomCrocus}}",
                "SenRoomBook": "{{i18n:Maps.SenS.SenRoomBook}}",
                "SenRoomDeskFlowers": "{{i18n:Maps.SenS.SenRoomDeskFlowers}}",
                "SenRoomCoffeeCup": "{{i18n:Maps.SenS.SenRoomCoffeeCup}}",
                "SenRoomBookCase": "{{i18n:Maps.SenS.SenRoomBookCase}}",
                "SenRoomLatch": "{{i18n:Maps.SenS.SenRoomLatch}}",
                "SenRoomCloth": "{{i18n:Maps.SenS.SenRoomCloth}}",
                "SenRoomNotes": "{{i18n:Maps.SenS.SenRoomNotes}}",
                "SenRoomBlueFlowers": "{{i18n:Maps.SenS.SenRoomBlueFlowers}}",

            //TRACE STRINGS
                "TraceHClosedDoor": "{{i18n:Maps.TraceV.TraceHClosedDoor |TraceHearts={{Hearts:TraceV}}}}"
            }
        }
    ]
 }